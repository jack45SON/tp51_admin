{extend name="public/_base" /}

{block name="title"}<title>菜单 - 系统管理</title>{/block}

{block name="right"}

<!-- page content -->
<div class="right_col" role="main">
    <div class="">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>菜单列表</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <!--<li><a onclick="deleteData('deleteType');">删除</a>-->
                            <li>
                                {:authAction('/'.MODULE_NAME.'/'.CONTROLLER_NAME.'/add', '添加菜单','add',true,'',700)}
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>

                    <div class="x_content">
                        <div class="table-responsive">
                            <table class="table table-striped jambo_table bulk_action">
                                <thead>
                                <tr class="headings">
                                    <th class="column-title"  style="width: 5%">Id</th>
                                    <th class="column-title"  style="width: 22%">名称</th>
                                    <th class="column-title">模块</th>
                                    <th class="column-title">控制器</th>
                                    <th class="column-title">方法名</th>
                                    <th class="column-title">参数</th>
                                    <th class="column-title">状态</th>
                                    <th class="column-title">是否显示</th>
                                    <!--<th class="column-title">创建时间</th>-->
                                    <!--<th class="column-title">修改时间</th>-->
                                    <th class="column-title">操作管理</th>
                                </tr>

                                </thead>
                                <tbody>
                                {foreach $data as $vo }
                                <tr class="even pointer">
                                    <td>{$vo.id}</td>
                                    <td>
                                        {:str_repeat('-', 8*$vo.level).$vo.name}
                                    </td>
                                    <td>{$vo.module}</td>
                                    <td>{$vo.controller}</td>
                                    <td>{$vo.action}</td>
                                    <td>{$vo.params}</td>
                                    <td>
                                        {:yesOrNo('status',$vo.status,$vo.id)}
                                    </td>
                                    <td>
                                        {:yesOrNo('is_show',$vo.is_show,$vo.id)}
                                    </td>
                                    <!--<td>{$vo.create_time}</td>-->
                                    <!--<td>{$vo.update_time}</td>-->
                                    <td>
                                        <p class="url">
                                            {:authAction('/'.MODULE_NAME.'/'.CONTROLLER_NAME.'/edit', '修改菜单','edit',true,$vo.id)}
                                        </p>
                                    </td>
                                </tr>
                                {/foreach}
                                </tbody>
                            </table>
                            {$page|raw}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /page content -->
{/block}


{block name="js"}
<script language="javascript">
    $(document).ready(function () {
        $('.edit_radio_btn').on('click',function () {
            editor_radio($(this), '/{:MODULE_NAME}/{:CONTROLLER_NAME}/edit')
        });
    });
</script>
{/block}